<div class="container-fluid lg:container mx-auto my-5">
  <div class="sub-title top-content-frame flex">
    <a [routerLink]="'/tarots'" class="flex items-center ms-auto md:ms-4 me-auto">
      <span class="material-symbols-rounded">
        arrow_back_ios
      </span> Back
    </a>
  </div>
  @if (targetTarot) {
  <div>
    <app-reflection-font [text]="targetTarot.name + ' - Meaning'"
      [fontClass]="'mx-auto sub-title'"></app-reflection-font>
  </div>
  <div class="mb-4 relative">
    <div class="previous-arrow flex md:hidden" [class.hidden]="!previousTarot">
      @if (previousTarot) {
        <a class="mt-auto" [routerLink]="[ '/tarot-meaning', previousTarot.category | lowercase, previousTarot.number]">
          <span class="material-symbols-rounded mt-5">
            arrow_back_ios
            </span>
        </a>
      }
    </div>
    <div class="next-arrow flex md:hidden" [class.hidden]="!nextTarot">
      @if (nextTarot) {
        <a class="mt-auto" [routerLink]="[ '/tarot-meaning', nextTarot.category | lowercase, nextTarot.number]">
          <span class="material-symbols-rounded mt-5">
            arrow_forward_ios
            </span>
        </a>
      }
    </div>
    <div class="col-4 hidden d-mflex">
      @if (previousTarot) {
      <a class="sub-tarot ms-auto mt-auto"
        [routerLink]="[ '/tarot-meaning', previousTarot.category | lowercase, previousTarot.number]">
        <app-image-placement class="'block'"
          [srcLink]="previousTarot.imageUrl || '/assets/images/tarot/coming_soon_card.webp'"
          [itemClass]="'w-full tarot-card'" [height]="'265px'" [alt]="previousTarot.name"></app-image-placement>
        <div class="mt-2">
          {{'TAROT_MEANING.PREVIOUS_CARD' | translate}} <br />
          {{ previousTarot.name}}
        </div>
      </a>
      }
    </div>
    <div class="col-12 col-md-4">
      <div class="target-tarot mx-auto">
        <app-image-placement [srcLink]="targetTarot.imageUrl || '/assets/images/tarot/coming_soon_card.webp'" itemClass="w-full tarot-card" [height]="'500px'"
          [alt]="targetTarot.name"></app-image-placement>
      </div>
    </div>
    <div class="col-4 hidden d-mflex">
      @if (nextTarot) {
      <a class="sub-tarot me-auto mt-auto"
        [routerLink]="[ '/tarot-meaning', nextTarot.category | lowercase, nextTarot.number]">
        <app-image-placement class="block"
          [srcLink]="nextTarot.imageUrl || '/assets/images/tarot/coming_soon_card.webp'"
          [itemClass]="'w-full tarot-card'" [height]="'265px'" [alt]="nextTarot.name"></app-image-placement>
        <div class="mt-2">
          {{'TAROT_MEANING.NEXT_CARD' | translate}} <br />
          {{ nextTarot.name}}
        </div>
      </a>
      }
    </div>
  </div>
  <div class="flex">
    <div class="description-frame mx-auto p-4 card-description">
      <div class="section-sub-topic mb-2 md:mb-4">
        {{ "TAROT_MEANING.CARD_DESC" | translate:{ name: targetTarot.name} }}
      </div>
      <div class="section-content mb-3 mx-auto">
        <span [innerHTML]="targetTarot.description"></span><br />
      </div>
    </div>
  </div>
  }
</div>
@if (targetTarot && targetTarot.upright?.keyword) {
  <div class="tab-list ">
    <div class="tab-item" [class.active]="activeTab === cardMeaningTab.UPRIGHT || activeTab === undefined"
      (click)="changeActiveTab(cardMeaningTab.UPRIGHT)">
      {{ 'TAROT_MEANING.UPRIGHT' | translate}}
    </div>
    <div class="tab-item" [class.active]="activeTab === cardMeaningTab.REVERSE"
      (click)="changeActiveTab(cardMeaningTab.REVERSE)">
      {{ 'TAROT_MEANING.REVERSE' | translate}}
    </div>
  </div>
  <div class="tab-body pt-3 pb-3 px-4">
    <div [class.hidden]="activeTab !== cardMeaningTab.UPRIGHT && activeTab !== undefined">
      <div class="section-sub-topic mt-4 mb-1 section-color">
        {{ 'TAROT_MEANING.UPRIGHT_KEYWORD' | translate:{ name: targetTarot.name} }}
      </div>
      <div class="section-color tarot-keyword mb-3 md:mb-5">
        {{ targetTarot.upright?.keyword }}
      </div>
      <div class="container">
        <div class="grid lg:grid-cols-12 gap-4 mb-3 md:mb-5">
          <div class="flex mt-3 mb-3 lg:mb-0 lg:col-span-4 order-lg-last" >
            <img src="{{targetTarot.imageUrl}}" class="w-full character-frame my-auto ms-auto md:ms-0 me-auto sub-tarot" [alt]="targetTarot.name">
          </div>
          <div class="flex lg:col-span-8">
            <div class="description-frame px-md-3 flex flex-col lg:ms-auto order-lg-first">
              <div class="section-sub-topic mb-2 md:mb-4">
                {{ 'TAROT_MEANING.UPRIGHT_MEANING' | translate}}
              </div>
              <div class="section-content sub-bubble">
                {{ targetTarot.upright?.overallMeaning }}
              </div>
            </div>
          </div>
        </div>
        <div class="grid lg:grid-cols-12 gap-4 mb-3 md:mb-5">
          <div class="flex mt-3 mb-3 lg:mb-0 lg:col-span-4" >
            <img src="/assets/images/tarot/meaning_icons/love_card.png" srcset="{{ '/assets/images/tarot/meaning_icons/love_card.png' | imageSrcset}}"
            class="w-full character-frame my-auto md:me-0 me-auto ms-auto sub-tarot ms-auto" [alt]="targetTarot.name">
          </div>
          <div class="flex lg:col-span-8">
            <div class="description-frame px-md-5 flex flex-col order-lg-first">
              <div class="section-sub-topic mb-2 md:mb-4">
                {{ 'TAROT_MEANING.LOVE' | translate}}
              </div>
              <div class="section-content sub-bubble">
                {{ targetTarot.upright?.loveMeaning }}
              </div>
            </div>
          </div>
        </div>
        <div class="grid lg:grid-cols-12 gap-4 mb-3 md:mb-5">
          <div class="flex mt-3 mb-3 lg:mb-0 col-span-12 lg:col-span-4 order-lg-last" >
            <img src="/assets/images/tarot/meaning_icons/finance_card.png" srcset="{{ '/assets/images/tarot/meaning_icons/finance_card.png' | imageSrcset}}"
            class="w-full character-frame my-auto ms-auto md:ms-0 me-auto sub-tarot" [alt]="targetTarot.name">
          </div>
          <div class="flex col-span-12 lg:col-span-8">
            <div class="description-frame px-md-5 flex flex-col lg:ms-auto order-lg-first">
              <div class="section-sub-topic mb-2 md:mb-4">
                {{ 'TAROT_MEANING.FINANCE' | translate}}
              </div>
              <div class="section-content sub-bubble">
                {{ targetTarot.upright?.financeMeaning }}
              </div>
            </div>
          </div>
        </div>
        <div class="grid lg:grid-cols-12 gap-4 mb-3 md:mb-5">
          <div class="flex mt-3 mb-3 lg:mb-0 col-span-12 lg:col-span-4" >
            <img src="/assets/images/tarot/meaning_icons/career_card.png" srcset="{{ '/assets/images/tarot/meaning_icons/career_card.png' | imageSrcset}}"
            class="w-full character-frame my-auto md:me-0 me-auto ms-auto sub-tarot ms-auto" [alt]="targetTarot.name">
          </div>
          <div class="flex col-span-12 lg:col-span-8">
            <div class="description-frame px-md-5 flex flex-col order-lg-first">
              <div class="section-sub-topic mb-2 md:mb-4">
                {{ 'TAROT_MEANING.CAREER' | translate}}
              </div>
              <div class="section-content sub-bubble">
                {{ targetTarot.upright?.careerMeaning }}
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="blank-space">&nbsp;</div>
    </div>
    <div [class.hidden]="activeTab !== cardMeaningTab.REVERSE">
      <div class="section-sub-topic mt-4 mb-1 section-color">
        {{ 'TAROT_MEANING.REVERSE_KEYWORD' | translate:{ name: targetTarot.name} }}
      </div>
      <div class="section-color tarot-keyword mb-3 md:mb-5">
        {{ targetTarot.reverse?.keyword }}
      </div>
      <div class="container">
        <div class="grid lg:grid-cols-12 gap-4 mb-3 md:mb-5">
          <div class="col-12 flex mt-3 mb-3 lg:mb-0 lg:col-span-4 order-lg-last" >
            <img src="{{targetTarot.imageUrl}}"
            class="w-full character-frame reverse my-auto ms-auto md:ms-0 me-auto sub-tarot" [alt]="targetTarot.name">
          </div>
          <div class="col-12 flex lg:col-span-8">
            <div class="description-frame px-md-5 flex flex-col lg:ms-auto order-lg-first">
              <div class="section-sub-topic mb-2 md:mb-4">
                {{ 'TAROT_MEANING.REVERSE_MEANING' | translate}}
              </div>
              <div class="section-content sub-bubble">
                {{ targetTarot.reverse?.overallMeaning }}
              </div>
            </div>
          </div>
        </div>
        <div class="grid lg:grid-cols-12 gap-4 mb-3 md:mb-5">
          <div class="col-12 flex mt-3 mb-3 lg:mb-0 lg:col-span-4" >
            <img src="/assets/images/tarot/meaning_icons/love_card.png" srcset="{{ '/assets/images/tarot/meaning_icons/love_card.png' | imageSrcset}}"
            class="w-full character-frame my-auto md:me-0 me-auto ms-auto sub-tarot ms-auto" [alt]="targetTarot.name">
          </div>
          <div class="col-12 flex lg:col-span-8">
            <div class="description-frame px-md-5 flex flex-col order-lg-first">
              <div class="section-sub-topic mb-2 md:mb-4">
                {{ 'TAROT_MEANING.LOVE' | translate}}
              </div>
              <div class="section-content sub-bubble">
                {{ targetTarot.reverse?.loveMeaning }}
              </div>
            </div>
          </div>
        </div>
        <div class="grid lg:grid-cols-12 gap-4 mb-3 md:mb-5">
          <div class="col-12 flex mt-3 mb-3 lg:mb-0 lg:col-span-4 order-lg-last" >
            <img src="/assets/images/tarot/meaning_icons/finance_card.png" srcset="{{ '/assets/images/tarot/meaning_icons/finance_card.png' | imageSrcset}}"
            class="w-full character-frame my-auto ms-auto md:ms-0 me-auto sub-tarot" [alt]="targetTarot.name">
          </div>
          <div class="col-12 flex lg:col-span-8">
            <div class="description-frame px-md-5 flex flex-col lg:ms-auto order-lg-first">
              <div class="section-sub-topic mb-2 md:mb-4">
                {{ 'TAROT_MEANING.FINANCE' | translate}}
              </div>
              <div class="section-content sub-bubble">
                {{ targetTarot.reverse?.financeMeaning }}
              </div>
            </div>
          </div>
        </div>
        <div class="grid lg:grid-cols-12 gap-4 mb-3 md:mb-5">
          <div class="flex mt-3 mb-3 lg:mb-0 lg:col-span-4" >
            <img src="/assets/images/tarot/meaning_icons/career_card.png" srcset="{{ '/assets/images/tarot/meaning_icons/career_card.png' | imageSrcset}}"
            class="w-full character-frame my-auto md:me-0 me-auto ms-auto sub-tarot ms-auto" [alt]="targetTarot.name">
          </div>
          <div class="flex lg:col-span-8">
            <div class="description-frame px-md-5 flex flex-col order-lg-first">
              <div class="section-sub-topic mb-2 md:mb-4">
                {{ 'TAROT_MEANING.CAREER' | translate}}
              </div>
              <div class="section-content sub-bubble">
                {{ targetTarot.reverse?.careerMeaning }}
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="blank-space">&nbsp;</div>
    </div>
  </div>
}
